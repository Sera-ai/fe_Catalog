import React, { useState } from "react";

function ProxySettings({ endpoint, endpointProxy }) {
  const [selected, setSelected] = useState("SERA Endpoint");

  if (!endpointProxy[endpoint]) {
    return;
  }

  const options = [
    {
      name: "SERA Endpoint",
      domain: endpointProxy[endpoint].seraUrl,
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="17"
          height="18"
          viewBox="0 0 17 18"
          fill="none"
        >
          <path
            d="M8.125 0.875C6.51803 0.875 4.94714 1.35152 3.611 2.24431C2.27485 3.1371 1.23344 4.40605 0.618482 5.8907C0.00352044 7.37535 -0.157382 9.00901 0.156123 10.5851C0.469628 12.1612 1.24346 13.6089 2.37976 14.7452C3.51606 15.8815 4.9638 16.6554 6.5399 16.9689C8.11599 17.2824 9.74966 17.1215 11.2343 16.5065C12.719 15.8916 13.9879 14.8502 14.8807 13.514C15.7735 12.1779 16.25 10.607 16.25 9C16.2477 6.84581 15.391 4.78051 13.8677 3.25727C12.3445 1.73403 10.2792 0.877275 8.125 0.875ZM6.06485 12.125H10.1852C9.76563 13.5578 9.0625 14.8492 8.125 15.8664C7.1875 14.8492 6.48438 13.5578 6.06485 12.125ZM5.78125 10.875C5.57396 9.63359 5.57396 8.36641 5.78125 7.125H10.4688C10.676 8.36641 10.676 9.63359 10.4688 10.875H5.78125ZM1.25 9C1.24946 8.36597 1.33702 7.73493 1.51016 7.125H4.51485C4.32839 8.36805 4.32839 9.63195 4.51485 10.875H1.51016C1.33702 10.2651 1.24946 9.63403 1.25 9ZM10.1852 5.875H6.06485C6.48438 4.44219 7.1875 3.15078 8.125 2.13359C9.0625 3.15078 9.76563 4.44219 10.1852 5.875ZM11.7352 7.125H14.7398C15.0867 8.35093 15.0867 9.64907 14.7398 10.875H11.7352C11.9216 9.63195 11.9216 8.36805 11.7352 7.125ZM14.2477 5.875H11.4797C11.1607 4.61993 10.6251 3.43019 9.89688 2.35938C10.8272 2.60939 11.695 3.05135 12.4443 3.65682C13.1936 4.26229 13.8079 5.01788 14.2477 5.875ZM6.35313 2.35938C5.62492 3.43019 5.08927 4.61993 4.77032 5.875H2.00235C2.44213 5.01788 3.05643 4.26229 3.80574 3.65682C4.55505 3.05135 5.42278 2.60939 6.35313 2.35938ZM2.00235 12.125H4.77032C5.08927 13.3801 5.62492 14.5698 6.35313 15.6406C5.42278 15.3906 4.55505 14.9487 3.80574 14.3432C3.05643 13.7377 2.44213 12.9821 2.00235 12.125ZM9.89688 15.6406C10.6251 14.5698 11.1607 13.3801 11.4797 12.125H14.2477C13.8079 12.9821 13.1936 13.7377 12.4443 14.3432C11.695 14.9487 10.8272 15.3906 9.89688 15.6406Z"
            fill="white"
          />
        </svg>
      ),
    },
    {
      name: "Obfuscated Endpoint",
      domain: endpointProxy[endpoint].obfuscateUrl,
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="17"
          height="18"
          viewBox="0 0 17 18"
          fill="none"
        >
          <path
            d="M5.46667 5.53335C5.18469 6.15017 5.09757 6.83833 5.21695 7.50596C5.33633 8.17358 5.65652 8.78891 6.13477 9.26979C6.61303 9.75068 7.22659 10.0742 7.89356 10.1973C8.56052 10.3203 9.24915 10.2369 9.8675 9.95835M11.5342 8.30835C11.8173 7.69267 11.9061 7.00531 11.7886 6.3379C11.6711 5.67049 11.353 5.05474 10.8767 4.57271C10.4004 4.09069 9.78847 3.76529 9.12251 3.6399C8.45654 3.5145 7.76818 3.59507 7.14917 3.87085M4.125 11.9175C5.24258 12.8884 6.65105 13.4606 8.12913 13.544C9.60721 13.6274 11.0711 13.2174 12.2908 12.3784M13.9708 10.7117C14.5042 9.95221 14.8734 9.08993 15.0549 8.17983C15.2365 7.26972 15.2264 6.33178 15.0253 5.4258C14.8241 4.51982 14.4364 3.66569 13.8869 2.91788C13.3373 2.17007 12.6379 1.545 11.8333 1.08252M8.5 13.5842V16.9175M5.16667 16.9175H11.8333M1 1.08419L16 16.0842"
            stroke="white"
            stroke-width="1.66667"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      name: "Custom DNS",
      domain: endpointProxy[endpoint].dnsUrl,
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="15"
          height="16"
          viewBox="0 0 15 16"
          fill="none"
        >
          <path
            d="M7.5 11.75C7.7125 11.75 7.89075 11.678 8.03475 11.534C8.17825 11.3905 8.25 11.2125 8.25 11V8.75H10.5187C10.7312 8.75 10.9062 8.678 11.0438 8.534C11.1813 8.3905 11.25 8.2125 11.25 8C11.25 7.7875 11.178 7.60925 11.034 7.46525C10.8905 7.32175 10.7125 7.25 10.5 7.25H8.25V4.98125C8.25 4.76875 8.17825 4.59375 8.03475 4.45625C7.89075 4.31875 7.7125 4.25 7.5 4.25C7.2875 4.25 7.1095 4.32175 6.966 4.46525C6.822 4.60925 6.75 4.7875 6.75 5V7.25H4.48125C4.26875 7.25 4.09375 7.32175 3.95625 7.46525C3.81875 7.60925 3.75 7.7875 3.75 8C3.75 8.2125 3.82175 8.3905 3.96525 8.534C4.10925 8.678 4.2875 8.75 4.5 8.75H6.75V11.0187C6.75 11.2312 6.822 11.4062 6.966 11.5438C7.1095 11.6813 7.2875 11.75 7.5 11.75ZM7.5 15.5C6.4625 15.5 5.4875 15.303 4.575 14.909C3.6625 14.5155 2.86875 13.9813 2.19375 13.3063C1.51875 12.6313 0.9845 11.8375 0.591 10.925C0.197 10.0125 0 9.0375 0 8C0 6.9625 0.197 5.9875 0.591 5.075C0.9845 4.1625 1.51875 3.36875 2.19375 2.69375C2.86875 2.01875 3.6625 1.48425 4.575 1.09025C5.4875 0.69675 6.4625 0.5 7.5 0.5C8.5375 0.5 9.5125 0.69675 10.425 1.09025C11.3375 1.48425 12.1313 2.01875 12.8063 2.69375C13.4813 3.36875 14.0155 4.1625 14.409 5.075C14.803 5.9875 15 6.9625 15 8C15 9.0375 14.803 10.0125 14.409 10.925C14.0155 11.8375 13.4813 12.6313 12.8063 13.3063C12.1313 13.9813 11.3375 14.5155 10.425 14.909C9.5125 15.303 8.5375 15.5 7.5 15.5ZM7.5 14C9.1625 14 10.5782 13.4158 11.7472 12.2472C12.9158 11.0782 13.5 9.6625 13.5 8C13.5 6.3375 12.9158 4.92175 11.7472 3.75275C10.5782 2.58425 9.1625 2 7.5 2C5.8375 2 4.422 2.58425 3.2535 3.75275C2.0845 4.92175 1.5 6.3375 1.5 8C1.5 9.6625 2.0845 11.0782 3.2535 12.2472C4.422 13.4158 5.8375 14 7.5 14Z"
            fill="white"
          />
        </svg>
      ),
    },
  ];

  return (
    <div className="py-4 rounded-md">
      {options.map((option, index) => (
        <div
          key={index}
          className={`flex items-center py-2 px-3 ${
            index == 0
              ? "border-t border-l border-r rounded-t-lg"
              : index == options.length - 1
              ? "rounded-b-lg border-b border-l border-r"
              : "border"
          } border-slate-200 dark:border-slate-700 cursor-pointer`}
          onClick={() => setSelected(option.name)}
        >
          <div
            style={{
              backgroundColor: selected === option.name ? "#2B84EC" : "#1A1C20",
            }}
            className={`p-2.5 mr-4 rounded-md`}
          >
            {option.icon}
          </div>
          <div className="flex-1">
            <p className="font-medium text-xs">{option.name}</p>
            <p className="text-gray-300  text-xs">{option.domain}</p>
          </div>
          <div>
            {selected === option.name ? (
              <div className="secondaryDark w-5 h-5 rounded-full flex justify-center items-center">
                <div
                  style={{ backgroundColor: "#2B84EC" }}
                  className="w-3 h-3 rounded-full"
                ></div>
              </div>
            ) : (
              <div className="secondaryDark w-5 h-5 rounded-full"></div>
            )}
          </div>
        </div>
      ))}
    </div>
  );
}

export default ProxySettings;
